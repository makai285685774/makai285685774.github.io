<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µå­æ—¶é’Ÿä¸å¤©æ°”é¢„æŠ¥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        /* æ—¶é’Ÿæ ·å¼ */
        .clock-container {
            position: relative;
            width: 400px;
            height: 400px;
        }

        .clock {
            width: 100%;
            height: 100%;
            background-color: white;
            border-radius: 50%;
            border: 10px solid #333;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
        }

        .clock-face {
            position: relative;
            width: 100%;
            height: 100%;
            transform: translateY(-3px);
            /* è°ƒæ•´æŒ‡é’ˆä½ç½® */
        }

        .hand {
            width: 50%;
            height: 6px;
            background: #333;
            position: absolute;
            top: 50%;
            transform-origin: 100%;
            transform: rotate(90deg);
            transition: all 0.05s;
            transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);
        }

        .hour-hand {
            width: 35%;
            left: 15%;
            height: 8px;
            background: #000;
        }

        .minute-hand {
            width: 45%;
            left: 5%;
            height: 6px;
        }

        .second-hand {
            width: 48%;
            left: 2%;
            height: 3px;
            background: #ff0000;
        }

        .center-circle {
            width: 20px;
            height: 20px;
            background-color: #333;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        /* æ—¶é’Ÿæ•°å­— */
        .clock-number {
            position: absolute;
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            padding: 10px;
        }

        .clock-number:nth-child(1) {
            transform: rotate(30deg);
        }

        .clock-number:nth-child(2) {
            transform: rotate(60deg);
        }

        .clock-number:nth-child(3) {
            transform: rotate(90deg);
        }

        .clock-number:nth-child(4) {
            transform: rotate(120deg);
        }

        .clock-number:nth-child(5) {
            transform: rotate(150deg);
        }

        .clock-number:nth-child(6) {
            transform: rotate(180deg);
        }

        .clock-number:nth-child(7) {
            transform: rotate(210deg);
        }

        .clock-number:nth-child(8) {
            transform: rotate(240deg);
        }

        .clock-number:nth-child(9) {
            transform: rotate(270deg);
        }

        .clock-number:nth-child(10) {
            transform: rotate(300deg);
        }

        .clock-number:nth-child(11) {
            transform: rotate(330deg);
        }

        .clock-number:nth-child(12) {
            transform: rotate(360deg);
        }

        .clock-number span {
            display: inline-block;
            transform: rotate(-30deg);
        }

        .clock-number:nth-child(2) span {
            transform: rotate(-60deg);
        }

        .clock-number:nth-child(3) span {
            transform: rotate(-90deg);
        }

        .clock-number:nth-child(4) span {
            transform: rotate(-120deg);
        }

        .clock-number:nth-child(5) span {
            transform: rotate(-150deg);
        }

        .clock-number:nth-child(6) span {
            transform: rotate(-180deg);
        }

        .clock-number:nth-child(7) span {
            transform: rotate(-210deg);
        }

        .clock-number:nth-child(8) span {
            transform: rotate(-240deg);
        }

        .clock-number:nth-child(9) span {
            transform: rotate(-270deg);
        }

        .clock-number:nth-child(10) span {
            transform: rotate(-300deg);
        }

        .clock-number:nth-child(11) span {
            transform: rotate(-330deg);
        }

        .clock-number:nth-child(12) span {
            transform: rotate(-360deg);
        }

        /* å¤©æ°”é¢„æŠ¥æ ·å¼ */
        .weather-container {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            min-width: 250px;
        }

        .weather-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
            color: #333;
        }

        .weather-day {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .weather-day:last-child {
            border-bottom: none;
        }

        .day-name {
            font-weight: bold;
            color: #555;
        }

        .weather-info {
            display: flex;
            align-items: center;
        }

        .weather-icon {
            font-size: 24px;
            margin-right: 10px;
        }

        .weather-temp {
            color: #666;
        }

        /* ç”µå­æ—¶é—´æ˜¾ç¤º */
        .digital-time {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            font-weight: bold;
            color: #333;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* åŠ è½½æç¤º */
        .loading {
            text-align: center;
            color: #666;
            padding: 10px;
        }

        /* é”™è¯¯æç¤º */
        .error {
            text-align: center;
            color: #ff0000;
            padding: 10px;
        }
    </style>
</head>

<body>
    <!-- å¤©æ°”é¢„æŠ¥ -->
    <div class="weather-container">
        <div class="weather-title">å¤©æ°”é¢„æŠ¥</div>
        <div id="weather-content">
            <div class="loading">æ­£åœ¨åŠ è½½å¤©æ°”æ•°æ®...</div>
        </div>
    </div>

    <!-- æ¨¡æ‹Ÿæ—¶é’Ÿ -->
    <div class="clock-container">
        <div class="clock">
            <div class="clock-face">
                <!-- æ—¶é’Ÿæ•°å­— -->
                <div class="clock-number"><span>1</span></div>
                <div class="clock-number"><span>2</span></div>
                <div class="clock-number"><span>3</span></div>
                <div class="clock-number"><span>4</span></div>
                <div class="clock-number"><span>5</span></div>
                <div class="clock-number"><span>6</span></div>
                <div class="clock-number"><span>7</span></div>
                <div class="clock-number"><span>8</span></div>
                <div class="clock-number"><span>9</span></div>
                <div class="clock-number"><span>10</span></div>
                <div class="clock-number"><span>11</span></div>
                <div class="clock-number"><span>12</span></div>

                <!-- æ—¶é’ŸæŒ‡é’ˆ -->
                <div class="hand hour-hand"></div>
                <div class="hand minute-hand"></div>
                <div class="hand second-hand"></div>
                <div class="center-circle"></div>
            </div>
        </div>
        <!-- ç”µå­æ—¶é—´æ˜¾ç¤º -->
        <div class="digital-time" id="digital-time"></div>
    </div>

    <script>
        // æ—¶é’ŸåŠŸèƒ½
        const hourHand = document.querySelector('.hour-hand');
        const minuteHand = document.querySelector('.minute-hand');
        const secondHand = document.querySelector('.second-hand');
        const digitalTime = document.getElementById('digital-time');

        function setDate() {
            const now = new Date();

            // è®¡ç®—æŒ‡é’ˆæ—‹è½¬è§’åº¦
            const seconds = now.getSeconds();
            const secondsDegrees = ((seconds / 60) * 360) + 90;
            secondHand.style.transform = `rotate(${secondsDegrees}deg)`;

            const minutes = now.getMinutes();
            const minutesDegrees = ((minutes / 60) * 360) + ((seconds / 60) * 6) + 90;
            minuteHand.style.transform = `rotate(${minutesDegrees}deg)`;

            const hours = now.getHours();
            const hoursDegrees = ((hours / 12) * 360) + ((minutes / 60) * 30) + 90;
            hourHand.style.transform = `rotate(${hoursDegrees}deg)`;

            // æ›´æ–°ç”µå­æ—¶é—´æ˜¾ç¤º
            const formattedTime = now.toLocaleTimeString('zh-CN', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            digitalTime.textContent = formattedTime;
        }

        // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ—¶é’Ÿ
        setInterval(setDate, 1000);
        setDate(); // åˆå§‹åŒ–

        // å¤©æ°”é¢„æŠ¥åŠŸèƒ½ - ä½¿ç”¨OpenWeatherMap API
        // è¯·å…ˆåœ¨ https://openweathermap.org/api æ³¨å†Œè·å–å…è´¹APIå¯†é’¥
        const API_KEY = 'YOUR_API_KEY'; // æ›¿æ¢ä¸ºæ‚¨çš„APIå¯†é’¥
        const CITY = 'Beijing'; // æ›¿æ¢ä¸ºæ‚¨æƒ³æŸ¥è¯¢çš„åŸå¸‚
        const COUNTRY_CODE = 'CN'; // å›½å®¶ä»£ç 

        // æ ¹æ®å¤©æ°”ä»£ç è·å–å¯¹åº”çš„å¤©æ°”å›¾æ ‡
        function getWeatherIcon(weatherCode) {
            const iconMap = {
                // æ™´å¤©
                '01d': 'â˜€ï¸',
                '01n': 'ğŸŒ™',
                // å¤šäº‘
                '02d': 'â›…',
                '02n': 'â›…',
                '03d': 'â˜ï¸',
                '03n': 'â˜ï¸',
                '04d': 'â˜ï¸',
                '04n': 'â˜ï¸',
                // é›¨å¤©
                '09d': 'ğŸŒ§ï¸',
                '09n': 'ğŸŒ§ï¸',
                '10d': 'ğŸŒ§ï¸',
                '10n': 'ğŸŒ§ï¸',
                // é›·é›¨
                '11d': 'â›ˆï¸',
                '11n': 'â›ˆï¸',
                // é›ªå¤©
                '13d': 'â„ï¸',
                '13n': 'â„ï¸',
                // é›¾å¤©
                '50d': 'ğŸŒ«ï¸',
                '50n': 'ğŸŒ«ï¸'
            };
            return iconMap[weatherCode] || 'ğŸŒ¤ï¸';
        }

        // è·å–å¹¶æ˜¾ç¤ºå¤©æ°”æ•°æ®
        async function fetchWeather() {
            const weatherContent = document.getElementById('weather-content');

            try {
                // æ„å»ºAPI URL
                const url = `https://api.openweathermap.org/data/2.5/forecast?q=${CITY},${COUNTRY_CODE}&appid=${API_KEY}&units=metric&lang=zh_cn`;

                // å‘é€APIè¯·æ±‚
                const response = await fetch(url);

                if (!response.ok) {
                    throw new Error('å¤©æ°”æ•°æ®è·å–å¤±è´¥');
                }

                const data = await response.json();

                // å¤„ç†å¤©æ°”æ•°æ®ï¼Œæå–æ¯å¤©çš„å¤©æ°”é¢„æŠ¥ï¼ˆå–æ¯å¤©12ç‚¹çš„æ•°æ®ï¼‰
                const dailyForecasts = [];
                const today = new Date().toDateString();

                data.list.forEach(item => {
                    const forecastDate = new Date(item.dt * 1000);
                    const dateString = forecastDate.toDateString();

                    // åªæ·»åŠ æ¯å¤©12ç‚¹çš„æ•°æ®ï¼Œæœ€å¤šæ·»åŠ 4å¤©ï¼ˆä»Šå¤©+æœªæ¥3å¤©ï¼‰
                    if (forecastDate.getHours() === 12 && dailyForecasts.length < 4) {
                        // æ£€æŸ¥æ˜¯å¦å·²ç»æ·»åŠ äº†ä»Šå¤©çš„æ•°æ®
                        if (dateString === today && dailyForecasts.length === 0) {
                            dailyForecasts.push(item);
                        } else if (dateString !== today) {
                            dailyForecasts.push(item);
                        }
                    }
                });

                // å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„æ•°æ®ï¼ˆæ¯”å¦‚ä»Šå¤©å·²ç»è¿‡äº†12ç‚¹ï¼‰ï¼Œåˆ™å–æœ€æ—©çš„4ä¸ªæ•°æ®
                if (dailyForecasts.length < 4) {
                    dailyForecasts.length = 0;
                    for (let i = 0; i < Math.min(4, data.list.length); i++) {
                        dailyForecasts.push(data.list[i]);
                    }
                }

                // ç”Ÿæˆå¤©æ°”HTML
                let weatherHTML = '';
                const dayNames = ['ä»Šå¤©', 'æ˜å¤©', 'åå¤©', 'å¤§åå¤©'];

                dailyForecasts.forEach((forecast, index) => {
                    const temp = Math.round(forecast.main.temp);
                    const weatherIcon = getWeatherIcon(forecast.weather[0].icon);
                    const dayName = dayNames[index];

                    weatherHTML += `
                        <div class="weather-day">
                            <div class="day-name">${dayName}</div>
                            <div class="weather-info">
                                <div class="weather-icon">${weatherIcon}</div>
                                <div class="weather-temp">${temp}Â°C</div>
                            </div>
                        </div>
                    `;
                });

                // æ›´æ–°å¤©æ°”å†…å®¹
                weatherContent.innerHTML = weatherHTML;

            } catch (error) {
                console.error('è·å–å¤©æ°”æ•°æ®å¤±è´¥:', error);
                weatherContent.innerHTML = `<div class="error">å¤©æ°”æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥APIå¯†é’¥å’Œç½‘ç»œè¿æ¥</div>`;
            }
        }

        // é¡µé¢åŠ è½½æ—¶è·å–å¤©æ°”æ•°æ®
        window.addEventListener('load', fetchWeather);
    </script>
</body>

</html>